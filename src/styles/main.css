/* ================================================
   main.css - Main CSS Aggregator
   ITCSS Architecture with CSS Layers
   ================================================ */

/* Establish cascade layer order */
@layer settings, generic, elements, objects, components, utilities, sections, theme;

/* ================================================
   0. Settings - Design tokens and configurations
   ================================================ */
@import "./00-settings/tokens.css" layer(settings);

/* ================================================
   1. Generic - Ground zero styles (resets, box-sizing)
   ================================================ */
@import "./01-generic/reset.css" layer(generic);

/* ================================================
   2. Elements - Unclassed HTML elements
   ================================================ */
@import "./02-elements/typography.css" layer(elements);

/* ================================================
   3. Objects - Class-based selectors for design patterns
   ================================================ */
@import "./03-objects/layout.css" layer(objects);

/* ================================================
   4. Components - Specific UI components
   ================================================ */
@import "./04-components/components.css" layer(components);

/* ================================================
   5. Utilities - Helper and override classes
   ================================================ */
@import "./05-utilities/utilities.css" layer(utilities);

/* ================================================
   6. Sections - Page sections and layouts
   ================================================ */
@import "./06-sections/sections-base.css" layer(sections);
@import "./06-sections/hero.css" layer(sections);
@import "./06-sections/about.css" layer(sections);
@import "./06-sections/services.css" layer(sections);
@import "./06-sections/contact.css" layer(sections);
@import "./06-sections/contact-forms.css" layer(sections);
@import "./06-sections/footer.css" layer(sections);
@import "./06-sections/status-pages.css" layer(sections);

/* ================================================
   7. Theme - Theme-specific overrides
   ================================================ */
@import "./00-settings/unified-theme.css" layer(theme);
@import "./00-settings/dark-theme.css" layer(theme);

/* ================================================
   Root Styles
   Applied after all imports
   ================================================ */

/* Smooth scroll behavior */
html {
  scroll-behavior: smooth;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* ================================================
   Custom Scrollbar (Webkit browsers)
   ================================================ */

::-webkit-scrollbar {
  width: var(--space-3);
  height: var(--space-3);
}

::-webkit-scrollbar-track {
  background: var(--color-background);
}

::-webkit-scrollbar-thumb {
  background: color-mix(in oklch, var(--color-text) 30%, transparent);
  border-radius: var(--radius-full);
  border: 3px solid var(--color-background);
}

::-webkit-scrollbar-thumb:hover {
  background: color-mix(in oklch, var(--color-text) 40%, transparent);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: color-mix(in oklch, var(--color-text) 30%, transparent) var(--color-background);
}

/* ================================================
   Selection Styles
   ================================================ */

::selection {
  /* Fallback for browsers without color-mix support */
  background: rgba(255, 69, 0, 0.3); /* Semi-transparent brand color */
  color: var(--color-text);
}

/* Modern color-mix for supporting browsers */
@supports (background: color-mix(in oklch, red, blue)) {
  ::selection {
    background: color-mix(in oklch, var(--color-brand-primary) 30%, transparent);
  }
}

::-moz-selection {
  /* Fallback for browsers without color-mix support */
  background: rgba(255, 69, 0, 0.3); /* Semi-transparent brand color */
  color: var(--color-text);
}

/* Modern color-mix for supporting browsers */
@supports (background: color-mix(in oklch, red, blue)) {
  ::-moz-selection {
    background: color-mix(in oklch, var(--color-brand-primary) 30%, transparent);
  }
}

/* High-contrast mode support for accessibility */
@media (forced-colors: active) {
  ::selection {
    background: Highlight;
    color: HighlightText;
  }

  ::-moz-selection {
    background: Highlight;
    color: HighlightText;
  }
}
