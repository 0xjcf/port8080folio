/*!
 * Progressive Enhancement v3 - Custom Validation with real-time feedback
 * ~1.5KB minified
 */
!function(){"use strict";var e=document.documentElement;if("classList"in e){e.classList.remove("no-js"),e.classList.add("js-enabled"),document.querySelectorAll("form.pe-form").forEach(function(e){e.setAttribute("novalidate",""),e.querySelectorAll("input, textarea, select").forEach(function(e){e.addEventListener("input",function(){e.classList.add("touched")}),e.addEventListener("blur",function(){e.classList.add("touched"),e.classList.add("blurred")})}),e.addEventListener("submit",function(t){if(!e.checkValidity()){t.preventDefault(),t.stopPropagation(),e.classList.add("was-validated"),e.querySelectorAll("input, textarea, select").forEach(function(e){e.classList.add("touched"),e.classList.add("blurred")});var r=e.querySelector(":invalid");return r&&r.focus({preventScroll:!1}),!1}var a=e.querySelector('button[type="submit"]');if(a&&!a.disabled){a.disabled=!0,a.setAttribute("aria-busy","true"),a.classList.add("button--loading");var n=a.querySelector(".button-text");n&&(n.dataset.orig=n.textContent,n.textContent=e.classList.contains("pe-form--newsletter")?"Subscribing...":"Sending...")}});var t=e.querySelector('input[name="timestamp"]');t&&(t.value=Date.now().toString())});var t=document.querySelector(".form-tabs-container");if(t){t.addEventListener("change",function(e){if(e.target&&"form-tab"===e.target.name){this.querySelectorAll(".form-tab").forEach(function(e){var t=document.getElementById(e.getAttribute("for"));e.setAttribute("tabindex",t&&t.checked?"0":"-1")});var t=e.target.id.replace("tab-","panel-"),r=document.getElementById(t);r&&r.focus()}});var r=t.querySelectorAll(".form-tab");r.forEach(function(e){e.addEventListener("keydown",function(e){var t=null,a=Array.from(r).indexOf(this);switch(e.key){case"ArrowLeft":case"ArrowUp":e.preventDefault(),t=r[a-1]||r[r.length-1];break;case"ArrowRight":case"ArrowDown":e.preventDefault(),t=r[a+1]||r[0];break;case"Home":e.preventDefault(),t=r[0];break;case"End":e.preventDefault(),t=r[r.length-1]}if(t){var n=document.getElementById(t.getAttribute("for"));n&&(n.checked=!0,n.dispatchEvent(new Event("change",{bubbles:!0}))),t.focus()}})})}}}();